<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ToolFramework: ToolFramework::WorkerPoolManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ToolFramework
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ToolFramework</b></li><li class="navelem"><a class="el" href="classToolFramework_1_1WorkerPoolManager.html">WorkerPoolManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classToolFramework_1_1WorkerPoolManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ToolFramework::WorkerPoolManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="WorkerPoolManager_8h_source.html">WorkerPoolManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac2939342abde0f7e40bdd5d462988adc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToolFramework_1_1WorkerPoolManager.html#ac2939342abde0f7e40bdd5d462988adc">WorkerPoolManager</a> (<a class="el" href="classToolFramework_1_1JobQueue.html">JobQueue</a> &amp;job_queue, unsigned int *thread_cap=0, unsigned int *global_thread_cap=0, unsigned int *global_thread_num=0, <a class="el" href="classToolFramework_1_1JobDeque.html">JobDeque</a> *job_out_deque=0, bool self_serving=false, bool threaded=true, unsigned int thread_sleep_us=100, unsigned int thread_management_period_us=10000, unsigned int job_assignment_period_us=1000)</td></tr>
<tr class="separator:ac2939342abde0f7e40bdd5d462988adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17aa193db3671cbe7b447e09d5419cd3"><td class="memItemLeft" align="right" valign="top"><a id="a17aa193db3671cbe7b447e09d5419cd3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToolFramework_1_1WorkerPoolManager.html#a17aa193db3671cbe7b447e09d5419cd3">~WorkerPoolManager</a> ()</td></tr>
<tr class="memdesc:a17aa193db3671cbe7b447e09d5419cd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple Destructor. <br /></td></tr>
<tr class="separator:a17aa193db3671cbe7b447e09d5419cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a09436b607afd43938c538916897602"><td class="memItemLeft" align="right" valign="top"><a id="a7a09436b607afd43938c538916897602"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToolFramework_1_1WorkerPoolManager.html#a7a09436b607afd43938c538916897602">ManageWorkers</a> ()</td></tr>
<tr class="memdesc:a7a09436b607afd43938c538916897602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to manage workers and distribute jobs to be run when unthreaded if you choose to not have the managment run on a thread. <br /></td></tr>
<tr class="separator:a7a09436b607afd43938c538916897602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc7d485f504ae364fcc31073568dba3"><td class="memItemLeft" align="right" valign="top"><a id="acbc7d485f504ae364fcc31073568dba3"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classToolFramework_1_1WorkerPoolManager.html#acbc7d485f504ae364fcc31073568dba3">NumThreads</a> ()</td></tr>
<tr class="memdesc:acbc7d485f504ae364fcc31073568dba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to return the number of current worker threads. <br /></td></tr>
<tr class="separator:acbc7d485f504ae364fcc31073568dba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is a template for a <a class="el" href="classToolFramework_1_1Tool.html">Tool</a> that dynamically more or less threads, such that there is always 1 available thread.This can therefore be used to scale to your worklaod, however be carefull when using more than one of these tools and to apply upperlimits if necessary both locally within this tool and globally so that more threads than is practical are created causing massive inefficency. Please fill out the descripton and author information.</p>
<dl class="section rcs"><dt>Author</dt><dd>B.Richards </dd></dl>
<dl class="section rcs"><dt>Date</dt><dd>2024/06/08 1:17:00 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac2939342abde0f7e40bdd5d462988adc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2939342abde0f7e40bdd5d462988adc">&#9670;&nbsp;</a></span>WorkerPoolManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WorkerPoolManager::WorkerPoolManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classToolFramework_1_1JobQueue.html">JobQueue</a> &amp;&#160;</td>
          <td class="paramname"><em>job_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>thread_cap</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>global_thread_cap</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>global_thread_num</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classToolFramework_1_1JobDeque.html">JobDeque</a> *&#160;</td>
          <td class="paramname"><em>job_out_deque</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>self_serving</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>threaded</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>thread_sleep_us</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>thread_management_period_us</em> = <code>10000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>job_assignment_period_us</em> = <code>1000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cconstructor for the Worker Pool Manager </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">job_queue</td><td>is the input job queue </td></tr>
    <tr><td class="paramname">thread_cap</td><td>is the maximum number of worker threads that will be spawned </td></tr>
    <tr><td class="paramname">global_thread_cap</td><td>pointer to an external global thread cap </td></tr>
    <tr><td class="paramname">global_thread_num</td><td>pointer to external global thread counter to incriment </td></tr>
    <tr><td class="paramname">job_out_deque</td><td>optional completed job deque if you want an output list structure </td></tr>
    <tr><td class="paramname">self_serving</td><td>whether threads help them selves to jobs or alternativly the manager will distribute jobs </td></tr>
    <tr><td class="paramname">threaded</td><td>if the manager runs on a thread. if not it can be executed manually multiple times </td></tr>
    <tr><td class="paramname">thread_sleep_us</td><td>how long threds will sleep for in us if no job is available </td></tr>
    <tr><td class="paramname">thrad_management_period_us</td><td>how long between evaluating the number of worker threads to avoid rapid killing and recreating </td></tr>
    <tr><td class="paramname">job_assignment_period</td><td>how long the managers sleeps between checking if there are free workers to assign them new jobs </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/DataModelBase/<a class="el" href="WorkerPoolManager_8h_source.html">WorkerPoolManager.h</a></li>
<li>src/DataModelBase/WorkerPoolManager.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
